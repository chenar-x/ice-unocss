"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function resolvePkgPath(pkg, resolvePath) {
    return resolvePath ? require.resolve(pkg, { paths: [resolvePath] }) : require.resolve(pkg);
}
function getDefaultSassImplementation(defaultSassImplPkg, resolvePath) {
    var sassImplPkg = defaultSassImplPkg;
    var fallbackSassImplPkg = defaultSassImplPkg === 'sass' ? 'node-sass' : 'sass';
    try {
        sassImplPkg = resolvePkgPath(defaultSassImplPkg, resolvePath);
    }
    catch (error) {
        try {
            sassImplPkg = resolvePkgPath(fallbackSassImplPkg, resolvePath);
        }
        catch (ignoreError) {
            sassImplPkg = 'sass';
        }
    }
    // eslint-disable-next-line import/no-dynamic-require, global-require
    return require(sassImplPkg);
}
function getSassImplementation(defaultSassImplPkg, resolvePath) {
    if (defaultSassImplPkg === void 0) { defaultSassImplPkg = 'sass'; }
    try {
        return getDefaultSassImplementation(defaultSassImplPkg, resolvePath);
    }
    catch (error) {
        console.error('Run `npm install sass` or `yarn add sass` inside your workspace.');
        // exit process when sass require is failed
        process.exit(1);
    }
    return null;
}
exports.default = getSassImplementation;
//# sourceMappingURL=getSassImplementation.js.map