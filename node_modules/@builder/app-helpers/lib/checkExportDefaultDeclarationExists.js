"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fse = require("fs-extra");
var parser_1 = require("@babel/parser");
var traverse_1 = require("@babel/traverse");
function parseCode(code) {
    return (0, parser_1.parse)(code, {
        sourceType: 'module',
        plugins: ['jsx', 'typescript', 'decorators-legacy', 'dynamicImport', 'classProperties'],
    });
}
function checkExportDefaultDeclarationExists(sourcePath) {
    if (!fse.existsSync(sourcePath)) {
        var ext = ['.ts', '.js', '.tsx', '.jsx'].find(function (extension) { return fse.existsSync("" + sourcePath + extension); });
        if (!ext) {
            return;
        }
        sourcePath = "" + sourcePath + ext;
    }
    var code = fse.readFileSync(sourcePath, 'utf-8');
    var ast = parseCode(code);
    var exportDefaultDeclarationExists = false;
    (0, traverse_1.default)(ast, {
        ExportDefaultDeclaration: function () {
            exportDefaultDeclarationExists = true;
        },
    });
    return exportDefaultDeclarationExists;
}
exports.default = checkExportDefaultDeclarationExists;
//# sourceMappingURL=checkExportDefaultDeclarationExists.js.map