"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function getBuildConfig(userConfig) {
    var plugins = userConfig.plugins, vite = userConfig.vite;
    var buildConfig = {};
    // filter userConfig
    ['router', 'store', 'web'].forEach(function (configKey) {
        if (Object.prototype.hasOwnProperty.call(userConfig, configKey)) {
            buildConfig[configKey] = userConfig[configKey];
        }
    });
    var isIcestarkUMD = plugins && plugins.some(function (plugin) {
        if (Array.isArray(plugin)) {
            var pluginName = plugin[0], pluginOptions = plugin[1];
            return pluginName === 'build-plugin-icestark' && (pluginOptions === null || pluginOptions === void 0 ? void 0 : pluginOptions.umd);
        }
        return false;
    });
    // eslint-disable-next-line no-nested-ternary
    buildConfig.icestarkType = vite ? 'es' : (isIcestarkUMD ? 'umd' : 'normal');
    return buildConfig;
}
exports.default = getBuildConfig;
//# sourceMappingURL=getBuildConfig.js.map