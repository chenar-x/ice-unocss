"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var fse = require("fs-extra");
var getSourceFile_1 = require("./getSourceFile");
function getRoutes(_a) {
    var rootDir = _a.rootDir, tempPath = _a.tempPath, configPath = _a.configPath, projectType = _a.projectType, isMpa = _a.isMpa, srcDir = _a.srcDir;
    // if is mpa use empty router file
    if (isMpa) {
        var routesTempPath = path.join(tempPath, 'routes.ts');
        fse.writeFileSync(routesTempPath, 'export default [];', 'utf-8');
        configPath = routesTempPath;
        return {
            routesPath: configPath,
            isConfigRoutes: true
        };
    }
    var routesPath = configPath
        ? path.join(rootDir, configPath)
        : (0, getSourceFile_1.default)(srcDir + "/routes", rootDir);
    // 配置式路由
    var configPathExists = fse.existsSync(routesPath);
    if (configPathExists) {
        return {
            routesPath: routesPath,
            isConfigRoutes: true
        };
    }
    // 约定式路由
    return {
        routesPath: path.join(tempPath, "routes." + projectType),
        isConfigRoutes: false
    };
}
exports.default = getRoutes;
//# sourceMappingURL=getRoutes.js.map